name: Telegram scheduled sender (s√°ng - tr∆∞a - t·ªëi t·ª•t)

on:
  schedule:
    - cron: '0 2 * * *'    # 09:00 VN (02:00 UTC)
    - cron: '0 5 * * *'    # 12:00 VN (05:00 UTC)
    - cron: '0 12 * * *'   # 19:00 VN (12:00 UTC)
  workflow_dispatch: {}     # Cho ph√©p ch·∫°y th·ªß c√¥ng ƒë·ªÉ test

jobs:
  morning:
    if: github.event.schedule == '0 2 * * *' || github.event_name == 'workflow_dispatch'
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-python@v5
      with:
        python-version: '3.11'
    - name: G·ª≠i tin nh·∫Øn bu·ªïi s√°ng
      env:
        TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        TELEGRAM_CHAT_IDS: ${{ secrets.TELEGRAM_CHAT_IDS }}
        TELEGRAM_MESSAGE: "‚òÄÔ∏è ch√†o bu·ªïi s√°ng t·ª•t"
      run: python send_messages.py

  noon:
    if: github.event.schedule == '0 5 * * *' || github.event_name == 'workflow_dispatch'
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-python@v5
      with:
        python-version: '3.11'
    - name: G·ª≠i tin nh·∫Øn bu·ªïi tr∆∞a
      env:
        TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        TELEGRAM_CHAT_IDS: ${{ secrets.TELEGRAM_CHAT_IDS }}
        TELEGRAM_MESSAGE: "üçú ch√†o bu·ªïi tr∆∞a t·ª•t"
      run: python send_messages.py

  evening:
    if: github.event.schedule == '0 12 * * *' || github.event_name == 'workflow_dispatch'
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-python@v5
      with:
        python-version: '3.11'
    - name: G·ª≠i tin nh·∫Øn bu·ªïi t·ªëi
      env:
        TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        TELEGRAM_CHAT_IDS: ${{ secrets.TELEGRAM_CHAT_IDS }}
        TELEGRAM_MESSAGE: "üåô ch√†o bu·ªïi t·ªëi t·ª•t"
      run: python send_messages.py
